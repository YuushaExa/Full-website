{{ define "main" }}
<section class="section">
  <article>      
    <div class="container">
      <div class="post">
        <h1 data-pagefind-ignore class="post-title"><a href="{{ .Permalink }}">{{ .Title }}</a></h1>
  <div class="content-new">
        <div class="columns is-multiline">


  <h1>User Registration</h1>
  <form id="registrationForm" action="https://testvercel-gamma-seven.vercel.app/register" method="POST">
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required><br><br>

    <label for="username">Username:</label>
    <input type="text" id="username" name="username" required><br><br>

    <label for="password">Password:</label>
    <input type="password" id="password" name="password" required><br><br>

    <input type="submit" value="Register">
  </form>
       <script>document.getElementById("registrationForm").addEventListener("submit", function(event) {
  event.preventDefault(); // Prevent form submission

  var email = document.getElementById("email").value;
  var username = document.getElementById("username").value;
  var password = document.getElementById("password").value;

  fetch("https://testvercel-gamma-seven.vercel.app/register", {
    method: "POST",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify({ email, username, password })
  })
  .then(function(response) {
    if (response.redirected) {
      window.location.href = response.url; // Redirect to the home page
    }
  })
  .catch(function(error) {
    console.log(error);
  });
});</script>

     </div>
    </div>     </div>   </div>  
  </article>    
</section>
{{ end }}
