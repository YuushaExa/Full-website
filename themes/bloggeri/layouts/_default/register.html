{{ define "main" }}
<section class="section">
  <article>      
    <div class="container">
      <div class="post">
        <h1 data-pagefind-ignore class="post-title"><a href="{{ .Permalink }}">{{ .Title }}</a></h1>
  <div class="content-new">
        <div class="columns is-multiline">
<h2>Registration Form</h2>
<form id="registrationForm">
  <label for="registrationName">Name:</label>
  <input type="text" id="registrationName" name="name" required><br><br>
  <label for="registrationEmail">Email:</label>
  <input type="email" id="registrationEmail" name="email" required><br><br>
  <label for="registrationPassword">Password:</label>
  <input type="password" id="registrationPassword" name="password" required><br><br>
  <button type="submit">Register</button>
</form>
<h2>Fast Registration</h2>
<form id="registrationFormNick">
  <label for="nickname">Nickname:</label>
  <input type="text" id="nickname" name="nickname" required><br><br>
  <label for="password">Password:</label>
  <input type="password" id="password" name="password" required><br><br>
  <button type="submit">Register</button>
</form>
          <h2>Login</h2>
<form id="loginForm">
  <label for="loginEmail">Email/Nickname:</label>
  <input type="text" id="loginEmail" name="email">
  <br>
  <label for="loginPassword">Password:</label>
  <input type="password" id="loginPassword" name="password" required>
  <br>
  <button type="submit">Login</button>
</form> 

 <h2>Set/Update Email Address</h2>
<form id="updateEmailForm">
  <label for="newEmail">New Email Address:</label>
  <input type="email" id="newEmail" name="newEmail" required>
  <button type="submit">Update Email</button>
</form>

<div id="googleSignInButton">Google</div>
  <button onclick="handleRelink()">Relink User Account</button>
          
          <div id="buttonaccount">
            <button id="cloudsave">Save to Firebase Storage</button>
          <button id="loadcloudsave">Load Cloud Save</button>
<button id="logout">Logout</button>
            <button id="deleteAccount">Delete Account</button>
   <button id="deletesaved">Delete Save Data</button>
               <button id="resetpassword">Reset Password (email only)</button>
          </div>

<button id="CloudSave">Cloud Save</button>
<p id="lastsaveddata"></p>
          <button id="LoadCloud">Cloud Load</button>
            <button onclick="toggleScriptActivation()">Toggle Auto Save</button>
<label class="switchbutton">
  <input type="checkbox">
  <span class="sliderbutton"></span>
  <span class="labeloff">Off</span>
  <span class="labelon">On</span>
</label>

          <script>
const registrationForm = document.getElementById('registrationForm');

registrationForm.addEventListener('submit', async (e) => {
  e.preventDefault();

  const name = registrationForm.name.value;
  const email = registrationForm.email.value;
  const password = registrationForm.password.value;

  try {
    const response = await fetch('/register', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({ name, email, password })
    });

    const data = await response.json();
    console.log(data.message); // Registration successful message
  } catch (error) {
    console.error(error); // Registration error
  }
});
       </script>

     </div>
    </div>     </div>   </div>  
  </article>    
</section>
{{ end }}
