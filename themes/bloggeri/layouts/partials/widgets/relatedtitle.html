{{ $firstWord := (split .Title " " | first 1) }}
{{ $relatedPosts := (where (slice .Site.RegularPages) "Type" "post" | where (printf "HasPrefix .Title \"%s \"" $firstWord)) }}

{{ if eq (len $relatedPosts) 0 }}
    <!-- No related posts found -->
{{ else }}
    <h3>Related Posts</h3>
    <ul>
        {{ range first 5 $relatedPosts }}
            {{ if eq (split .Title " " | first 1) $firstWord }}
                <li><a href="{{ .Permalink }}">{{ .Title }}</a></li>
            {{ end }}
        {{ end }}
    </ul>
{{ end }}
