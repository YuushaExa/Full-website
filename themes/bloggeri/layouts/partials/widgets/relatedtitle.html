{{- $posts := where .Site.RegularPages "Type" "in" (slice "post") -}}

{{- range $posts -}}
    {{- $targetWord := index (split .Title " ") 0 -}}
    {{- $filteredPosts := slice -}}
    {{- range $posts -}}
        {{- $postTitle := index (split .Title " ") 0 -}}
        {{- if eq $postTitle $targetWord -}}
            {{- $filteredPosts = $filteredPosts | append . -}}
            {{- if eq (len $filteredPosts) 5 -}}
                {{- break -}}
            {{- end -}}
        {{- end -}}
    {{- end -}}

    <h2>{{ $targetWord }}</h2>

    {{- range $filteredPosts -}}
        <div>
            <h3><a href="{{ .RelPermalink }}">{{ .Title }}</a></h3>
            <p>{{ .Summary }}</p>
        </div>
    {{- end -}}
{{- end -}}
